2016-01-09 16:43:54,621 - DEBUG - TianchengTest.py[179] - 测试开始时间: 2016-01-09 16:43:54
2016-01-09 16:43:54,621 - DEBUG - TianchengTest.py[26] - 运行模式：部分执行
2016-01-09 16:43:54,621 - DEBUG - TianchengTest.py[183] - 待执行用例: {'AFP': [2]}
2016-01-09 16:43:54,621 - DEBUG - TianchengTest.py[186] - Starting thread: TestRunThread
2016-01-09 16:43:54,624 - DEBUG - TianchengTest.py[145] - [TestRunThread] 开始执行用例: (AFP, 2)
---
2016-01-09 16:43:54,625 - DEBUG - Interface_DriverEngine.py[174] - [TestRunThread] 驱动执行:headers:{'TOKEN': 'abcdefghijk', 'APPID': '10'} TestData:{"FunctionCode":"100122","CurrentTime":"20150723203212000000","MsgBody":{"user_id":"abc123456","ProjectId":"123","identity_card":"003002196101160031","idtype":"0","name":"陈刚","bank_cart":"12345","reasonno":"04","blackBox":"123","ip":"192.168.1.122","account_login":"test123","mobile_phone":"18675559750","loanType":"99","currency":"23232","loanMoney":10000,"loanTimeLimit":12,"applyDate":"2015-08-01","assureType":"D","creditAddress":"北京","is_student":1,"is_first_time":0,"degree":"本科","RELATION_VERIFICATION":[{"relation_name":"陈刚","relation_phone":"18675559750"},{"relation_name":"","relation_phone":""}]}}
2016-01-09 16:43:54,635 - DEBUG - Interface_DriverEngine.py[177] - [TestRunThread] 执行结果:DriverResult:<Response [200]>
2016-01-09 16:43:55,622 - DEBUG - TianchengTest.py[193] - Starting thread: TestAssertThread
2016-01-09 16:43:55,625 - DEBUG - TianchengTest.py[200] - 等待子线程TestRunThread结束...
2016-01-09 16:43:55,625 - DEBUG - TianchengTest.py[75] - [TestAssertThread] 从队列taskassert_queue中取出一条任务: ('AFP', 2, u'30', 0, <Response [200]>)
2016-01-09 16:43:55,625 - DEBUG - TianchengTest.py[99] - [TestAssertThread] 状态处理后timestate: {('AFP', 2): {'timeoutdelay': 0.0, 'timeouttask': 30.0}}
2016-01-09 16:43:55,627 - DEBUG - TianchengTest.py[107] - [TestAssertThread] 调用断言模块进行处理: AFP 2 <Response [200]>
2016-01-09 16:43:55,628 - DEBUG - Interface_AssertEngine.py[96] - [TestAssertThread] 驱动断言:response:<Response [200]> ExpectationDict:{u'usermodelhistory': {u'status': u'0', u'modelName': u'\u989d\u5ea6\u8d44\u683c', u'BASE64_resultJson': {u'Status': u'0', u'model_Result': u'1'}, u'mobilePhone': u'18675559750', u'modelType': 3, u'modelResult': u'1', u'identityCard': u'003002196101160031', u'AppID': u'abc123456', u'errorInfo': u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'realName': u'\u9648\u521a'}, u'HTTPEXP': {u'Status': u'0', u'Messge': u'success'}}
2016-01-09 16:43:55,637 - DEBUG - TianchengTest.py[202] - 子线程：TestRunThread结束
2016-01-09 16:43:55,638 - DEBUG - Interface_Assert.py[41] - [TestAssertThread] init connecting mysql db: fraudcheck_77testteam 192.168.18.85:3306 write/tc12345
2016-01-09 16:43:55,638 - DEBUG - TianchengTest.py[204] - 等待子线程TestAssertThread结束...
2016-01-09 16:43:55,640 - DEBUG - ModAFP.py[243] - [TestAssertThread] 提取加密字段和响应数据from: ExpectationDict: {u'usermodelhistory': {u'status': u'0', u'modelName': u'\u989d\u5ea6\u8d44\u683c', u'BASE64_resultJson': {u'Status': u'0', u'model_Result': u'1'}, u'mobilePhone': u'18675559750', u'modelType': 3, u'modelResult': u'1', u'identityCard': u'003002196101160031', u'AppID': u'abc123456', u'errorInfo': u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'realName': u'\u9648\u521a'}, u'HTTPEXP': {u'Status': u'0', u'Messge': u'success'}}
2016-01-09 16:43:55,641 - DEBUG - ModAFP.py[275] - [TestAssertThread] 提取加密字段数据: HTTPEXP: {u'Status': u'0', u'Messge': u'success'}
ExpDict: {u'usermodelhistory': {u'status': u'0', u'modelName': u'\u989d\u5ea6\u8d44\u683c', u'mobilePhone': u'18675559750', u'modelType': 3, u'modelResult': u'1', u'identityCard': u'003002196101160031', u'AppID': u'abc123456', u'errorInfo': u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'realName': u'\u9648\u521a'}}
BASE64_ExpDict: {u'usermodelhistory': {u'resultJson': {u'Status': u'0', u'model_Result': u'1'}}}
2016-01-09 16:43:55,651 - DEBUG - ModAFP.py[140] - [TestAssertThread] 检查响应: unique_id: abc123456316793079960824400
HTTPEXP: {u'Status': u'0', u'Messge': u'success'}
responseContentDict: {u'Status': u'0', u'Messge': u'success', u'unique': u'abc123456316793079960824400'}
2016-01-09 16:43:55,651 - DEBUG - ModAFP.py[157] - [TestAssertThread] 检查明文字段数据: 用例中读取的fields: [u'status', u'modelName', u'mobilePhone', u'modelType', u'modelResult', u'identityCard', u'AppID', u'errorInfo', u'realName']
values: [u'0', u'\u989d\u5ea6\u8d44\u683c', u'18675559750', 3, u'1', u'003002196101160031', u'abc123456', u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'\u9648\u521a']
2016-01-09 16:43:55,653 - DEBUG - ModAFP.py[164] - [TestAssertThread] 执行SQL查询: query_str: SELECT status, modelName, mobilePhone, modelType, modelResult, identityCard, AppID, errorInfo, realName FROM usermodelhistory WHERE UniqueID = %s (u'abc123456316793079960824400',)
2016-01-09 16:43:55,658 - DEBUG - ModAFP.py[172] - [TestAssertThread] 检查明文字段数据: result: (u'0', u'\u989d\u5ea6\u8d44\u683c', u'18675559750', 3, u'1', u'003002196101160031', u'abc123456', u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'\u9648\u521a')
expvalues: (u'0', u'\u989d\u5ea6\u8d44\u683c', u'18675559750', 3, u'1', u'003002196101160031', u'abc123456', u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'\u9648\u521a')
2016-01-09 16:43:55,660 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段status数据: iresult: 0  expvalue: 0
2016-01-09 16:43:55,661 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段modelName数据: iresult: 额度资格  expvalue: 额度资格
2016-01-09 16:43:55,661 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段mobilePhone数据: iresult: 18675559750  expvalue: 18675559750
2016-01-09 16:43:55,663 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段modelType数据: iresult: 3  expvalue: 3
2016-01-09 16:43:55,664 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段modelResult数据: iresult: 1  expvalue: 1
2016-01-09 16:43:55,665 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段identityCard数据: iresult: 003002196101160031  expvalue: 003002196101160031
2016-01-09 16:43:55,667 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段AppID数据: iresult: abc123456  expvalue: abc123456
2016-01-09 16:43:55,667 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段errorInfo数据: iresult: 自有黑名单命中  expvalue: 自有黑名单命中
2016-01-09 16:43:55,668 - DEBUG - ModAFP.py[190] - [TestAssertThread] 检查明文字段realName数据: iresult: 陈刚  expvalue: 陈刚
2016-01-09 16:43:55,670 - DEBUG - ModAFP.py[201] - [TestAssertThread] 检查BASE64加密字段数据: 用例中读取的fields: [u'resultJson']
values: [{u'Status': u'0', u'model_Result': u'1'}]
2016-01-09 16:43:55,671 - DEBUG - ModAFP.py[208] - [TestAssertThread] 执行SQL查询: query_str: SELECT resultJson FROM usermodelhistory WHERE UniqueID = %s (u'abc123456316793079960824400',)
2016-01-09 16:43:55,684 - DEBUG - ModAFP.py[219] - [TestAssertThread] 检查BASE64加密字段数据: de_result: {"Messge":"自有黑名单命中","MsgBody":{"BAI_RONG":"","BLACKLIST_ARRAY":"[\n  {\n    \"_id\":    {\n      \"$oid\":\"55dd907455c5496b54233eca\"\n    },\n    \"crawldataupdatedate\":\"20150827200322\",\n    \"shouldpayments\":\"\",\n    \"totalborrowamount\":\"\",\n    \"link_man_relation\":\"\",\n    \"link_man_mobile_no\":\"\",\n    \"updatedate\":\"2015-08-27\",\n    \"company_address\":\"\",\n    \"last_overdue_borrow_date\":\"\",\n    \"sex\":\"男\",\n    \"phone\":\"\",\n    \"overduepayout\":\"30,480.00\",\n    \"reference_link\":\"\",\n    \"user\":\"\",\n    \"lenders\":\"\",\n    \"mobilephone\":\"18675559750\",\n    \"last_borrowtime\":\"\",\n    \"max_overduedays\":\"76\",\n    \"company_phone\":\"\",\n    \"birth_address\":\"\",\n    \"name\":\"陈刚\",\n    \"identity_card\":\"003002196101160031\",\n    \"living_address\":\"惠州市上排龙八啤酒厂5栋301\",\n    \"overdueno\":\"1\",\n    \"company_name\":\"\",\n    \"cumulateadvancement\":\"0\",\n    \"link_man_name\":\"\",\n    \"email\":\"hzhuirong23@sina.com\",\n    \"refundmoney\":\"\"\n  }\n]","LAO_NAI":"","QHPF":"","QHZX":"","TONG_DUN_JK":"","ZHI_MA":"","platforms":[{"platformName":"ZHI_MA","platformNameExplain":" 芝麻信用"},{"platformInfo":"命中天秤网贷黑名单：累计已还金额:;现住址:惠州市上排龙八啤酒厂5栋301;逾期笔数:1;逾期总金额:30,480.00;最长逾期天数:76;最近一笔逾期的借款时间:;应还款时间:;借款期数:;来源:,          ","platformName":"BLACKLIST_ARRAY","platformNameExplain":" 网贷黑名单"},{"platformName":"QHZX","platformNameExplain":" 前海黑名单"},{"platformName":"TONG_DUN_JK","platformNameExplain":" 同盾"}]},"Status":"0","model_Result":"1"}

expvalue: {u'Status': u'0', u'model_Result': u'1'}
2016-01-09 16:43:55,684 - DEBUG - ModAFP.py[223] - [TestAssertThread] 检查BASE64加密字段数据: de_resultDict: {u'Status': u'0', u'model_Result': u'1', u'Messge': u'\u81ea\u6709\u9ed1\u540d\u5355\u547d\u4e2d', u'MsgBody': {u'QHPF': u'', u'LAO_NAI': u'', u'TONG_DUN_JK': u'', u'BAI_RONG': u'', u'platforms': [{u'platformName': u'ZHI_MA', u'platformNameExplain': u' \u829d\u9ebb\u4fe1\u7528'}, {u'platformInfo': u'\u547d\u4e2d\u5929\u79e4\u7f51\u8d37\u9ed1\u540d\u5355\uff1a\u7d2f\u8ba1\u5df2\u8fd8\u91d1\u989d:;\u73b0\u4f4f\u5740:\u60e0\u5dde\u5e02\u4e0a\u6392\u9f99\u516b\u5564\u9152\u53825\u680b301;\u903e\u671f\u7b14\u6570:1;\u903e\u671f\u603b\u91d1\u989d:30,480.00;\u6700\u957f\u903e\u671f\u5929\u6570:76;\u6700\u8fd1\u4e00\u7b14\u903e\u671f\u7684\u501f\u6b3e\u65f6\u95f4:;\u5e94\u8fd8\u6b3e\u65f6\u95f4:;\u501f\u6b3e\u671f\u6570:;\u6765\u6e90:,          ', u'platformName': u'BLACKLIST_ARRAY', u'platformNameExplain': u' \u7f51\u8d37\u9ed1\u540d\u5355'}, {u'platformName': u'QHZX', u'platformNameExplain': u' \u524d\u6d77\u9ed1\u540d\u5355'}, {u'platformName': u'TONG_DUN_JK', u'platformNameExplain': u' \u540c\u76fe'}], u'ZHI_MA': u'', u'BLACKLIST_ARRAY': u'[\n  {\n    "_id":    {\n      "$oid":"55dd907455c5496b54233eca"\n    },\n    "crawldataupdatedate":"20150827200322",\n    "shouldpayments":"",\n    "totalborrowamount":"",\n    "link_man_relation":"",\n    "link_man_mobile_no":"",\n    "updatedate":"2015-08-27",\n    "company_address":"",\n    "last_overdue_borrow_date":"",\n    "sex":"\u7537",\n    "phone":"",\n    "overduepayout":"30,480.00",\n    "reference_link":"",\n    "user":"",\n    "lenders":"",\n    "mobilephone":"18675559750",\n    "last_borrowtime":"",\n    "max_overduedays":"76",\n    "company_phone":"",\n    "birth_address":"",\n    "name":"\u9648\u521a",\n    "identity_card":"003002196101160031",\n    "living_address":"\u60e0\u5dde\u5e02\u4e0a\u6392\u9f99\u516b\u5564\u9152\u53825\u680b301",\n    "overdueno":"1",\n    "company_name":"",\n    "cumulateadvancement":"0",\n    "link_man_name":"",\n    "email":"hzhuirong23@sina.com",\n    "refundmoney":""\n  }\n]', u'QHZX': u''}}
2016-01-09 16:43:55,686 - DEBUG - ModAFP.py[233] - [TestAssertThread] 检查BASE64加密字段数据: de_resultDict[Status]: 0  expvalue[Status]: 0
2016-01-09 16:43:55,687 - DEBUG - ModAFP.py[233] - [TestAssertThread] 检查BASE64加密字段数据: de_resultDict[model_Result]: 1  expvalue[model_Result]: 1
2016-01-09 16:43:55,687 - DEBUG - Interface_Assert.py[55] - [TestAssertThread] Release  public resources
2016-01-09 16:43:55,688 - DEBUG - TianchengTest.py[113] - [TestAssertThread] 结果放入测试结果中: AFP 2 ('PASS',)
...
2016-01-09 16:44:10,690 - DEBUG - TianchengTest.py[124] - [TestAssertThread] 从队列taskassert_queue中取任务超时
2016-01-09 16:44:10,693 - DEBUG - TianchengTest.py[206] - 子线程：TestAssertThread结束
2016-01-09 16:44:10,696 - DEBUG - TianchengTest.py[214] - 测试结束时间: 2016-01-09 16:44:10
2016-01-09 16:44:10,698 - DEBUG - TianchengTest.py[217] - testcase_result: {('AFP', 2): ('PASS',)}
2016-01-09 16:44:10,703 - DEBUG - GenerateReport.py[126] - 生成测试结果报告: .\result\Test_Report_Filename20160109164410.html
